{"ast":null,"code":"import _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nfunction generateRooms() {\n  const TOTAL_ROOMS = 4;\n  const rooms = Array(TOTAL_ROOMS).fill(1).map((v, i) => ({\n    roomId: i,\n    title: `Room ${i + v}`,\n    available: true,\n    selected: false,\n    adults: 0,\n    children: 0\n  })).reduce((byId, room) => {\n    byId[room.roomId] = room;\n    return byId;\n  }, {});\n  rooms[0].available = false;\n  return rooms;\n}\n\nconst AppInitialState = {\n  rooms: generateRooms(),\n  selectedRoomIds: [],\n  occupants: {},\n  savedBooking: {}\n};\nexport const actionTypes = {\n  SELECT_ROOM: 'SELECT_ROOM',\n  DESELECT_ROOM: 'DESELECT_ROOM',\n  RESET_SELECTION: 'RESET_SELECTION',\n  SELECT_OCCUPANT: 'SELECT_OCCUPANT',\n  SAVE_BOOKING: 'SAVE_BOOKING'\n}; // REDUCERS\n\nexport const reducer = (state = AppInitialState, action) => {\n  switch (action.type) {\n    case actionTypes.SELECT_ROOM:\n      return _objectSpread({}, state, {\n        selectedRoomIds: [...state.selectedRoomIds, action.roomId]\n      });\n\n    case actionTypes.DESELECT_ROOM:\n      return _objectSpread({}, state, {\n        selectedRoomIds: state.selectedRoomIds.filter(roomId => roomId !== action.roomId)\n      });\n\n    case actionTypes.RESET_SELECTION:\n      return _objectSpread({}, state, {\n        selectedRoomIds: [],\n        occupants: {}\n      });\n\n    case actionTypes.SELECT_OCCUPANT:\n      return _objectSpread({}, state, {\n        occupants: _objectSpread({}, state.occupants, {\n          [action.roomId]: _objectSpread({}, state.occupants[action.roomId], {\n            [action.occupant_type]: action.qty\n          })\n        })\n      });\n\n    case actionTypes.SAVE_BOOKING:\n      return state;\n\n    default:\n      return state;\n  }\n}; // ACTIONS\n\nexport const selectRoom = roomId => {\n  return {\n    type: actionTypes.SELECT_ROOM,\n    roomId\n  };\n};\nexport const deSelectRoom = roomId => {\n  return {\n    type: actionTypes.DESELECT_ROOM,\n    roomId\n  };\n};\nexport const resetSelection = () => {\n  return {\n    type: actionTypes.RESET_SELECTION\n  };\n};\nexport const selectOccupant = (roomId, occupant_type, qty) => {\n  return {\n    type: actionTypes.SELECT_OCCUPANT,\n    roomId,\n    occupant_type,\n    qty\n  };\n};\nexport const saveBooking = () => {\n  return {\n    type: actionTypes.SAVE_BOOKING\n  };\n}; // selector\n\nexport const getSelectedRoomIds = state => state.selectedRoomIds;\nexport const getSelectedRooms = state => state.selectedRoomIds.map(roomId => state.rooms[roomId]);\nexport const getOccupants = state => state.occupants;\nexport const getRooms = state => _Object$values(state.rooms); // init store\n\nexport function initializeStore(initialState = AppInitialState) {\n  return createStore(reducer, initialState, composeWithDevTools(applyMiddleware()));\n}","map":{"version":3,"sources":["/Users/tdkiran/Desktop/with-redux/store.js"],"names":["createStore","applyMiddleware","composeWithDevTools","generateRooms","TOTAL_ROOMS","rooms","Array","fill","map","v","i","roomId","title","available","selected","adults","children","reduce","byId","room","AppInitialState","selectedRoomIds","occupants","savedBooking","actionTypes","SELECT_ROOM","DESELECT_ROOM","RESET_SELECTION","SELECT_OCCUPANT","SAVE_BOOKING","reducer","state","action","type","filter","occupant_type","qty","selectRoom","deSelectRoom","resetSelection","selectOccupant","saveBooking","getSelectedRoomIds","getSelectedRooms","getOccupants","getRooms","initializeStore","initialState"],"mappings":"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","sourcesContent":["import { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nfunction generateRooms() {\n  const TOTAL_ROOMS = 4;\n  const rooms = Array(TOTAL_ROOMS).fill(1)\n    .map((v, i) => ({\n      roomId: i,\n      title: `Room ${i + v}`,\n      available: true,\n      selected: false,\n      adults: 0,\n      children: 0\n    }))\n    .reduce((byId, room) => {\n      byId[room.roomId] = room;\n      return byId;\n    }, {});\n\n  rooms[0].available = false;\n\n  return rooms;\n}\n\nconst AppInitialState = {\n  rooms: generateRooms(),\n  selectedRoomIds: [],\n  occupants: {\n\n  },\n  savedBooking: {}\n}\n\nexport const actionTypes = {\n  SELECT_ROOM: 'SELECT_ROOM',\n  DESELECT_ROOM: 'DESELECT_ROOM',\n  RESET_SELECTION: 'RESET_SELECTION',\n  SELECT_OCCUPANT: 'SELECT_OCCUPANT',\n  SAVE_BOOKING: 'SAVE_BOOKING'\n}\n\n// REDUCERS\nexport const reducer = (state = AppInitialState, action) => {\n  switch (action.type) {\n    case actionTypes.SELECT_ROOM:\n      return {\n        ...state,\n        selectedRoomIds: [\n          ...state.selectedRoomIds,\n          action.roomId\n        ]\n      };\n    case actionTypes.DESELECT_ROOM:\n      return {\n        ...state,\n        selectedRoomIds: state.selectedRoomIds.filter(roomId => roomId !== action.roomId)\n      };\n\n    case actionTypes.RESET_SELECTION:\n      return {\n        ...state,\n        selectedRoomIds: [],\n        occupants: {}\n      };\n\n    case actionTypes.SELECT_OCCUPANT:\n      return {\n        ...state,\n        occupants: {\n          ...state.occupants,\n          [action.roomId]: {\n            ...state.occupants[action.roomId],\n            [action.occupant_type]: action.qty\n          }\n        }\n      };\n    case actionTypes.SAVE_BOOKING:\n      return state;\n    default:\n      return state\n  }\n}\n\n// ACTIONS\nexport const selectRoom = (roomId) => {\n  return { type: actionTypes.SELECT_ROOM, roomId };\n}\nexport const deSelectRoom = (roomId) => {\n  return { type: actionTypes.DESELECT_ROOM, roomId };\n}\n\nexport const resetSelection = () => {\n  return { type: actionTypes.RESET_SELECTION };\n}\nexport const selectOccupant = (roomId, occupant_type, qty) => {\n  return { type: actionTypes.SELECT_OCCUPANT, roomId, occupant_type, qty };\n}\n\nexport const saveBooking = () => {\n  return { type: actionTypes.SAVE_BOOKING }\n}\n\n\n// selector\nexport const getSelectedRoomIds = (state) => state.selectedRoomIds;\nexport const getSelectedRooms = (state) => state.selectedRoomIds.map(roomId => state.rooms[roomId]);\nexport const getOccupants = (state) => state.occupants;\nexport const getRooms = (state) => Object.values(state.rooms);\n\n\n\n\n// init store\nexport function initializeStore(initialState = AppInitialState) {\n  return createStore(\n    reducer,\n    initialState,\n    composeWithDevTools(applyMiddleware())\n  )\n}"]},"metadata":{},"sourceType":"module"}