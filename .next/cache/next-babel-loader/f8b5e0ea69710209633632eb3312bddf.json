{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport { combineReducers } from 'redux';\nimport { actionTypes } from './actions-creators';\nimport { createSelector } from 'reselect';\nimport { defaultRoomInfo, defaultSelectedRoomId } from '../app_config';\n\nfunction activeRooms() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.SELECT_ROOM:\n      {\n        return action.roomId + 1;\n      }\n\n    case actionTypes.DESELECT_ROOM:\n      {\n        return action.roomId;\n      }\n\n    case actionTypes.INIT_STATE:\n      {\n        return action.activeRooms;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction occupantSelectionInfo() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [{\n    adult: 1,\n    children: 0,\n    roomId: 0\n  }];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.SELECT_OCCUPANT:\n      {\n        var newOccupantInfo = state.filter(function (occupantInfo) {\n          return occupantInfo.roomId !== action.occupantInfo.roomId;\n        }).concat([action.occupantInfo]);\n        return newOccupantInfo;\n      }\n\n    case actionTypes.SELECT_ROOM:\n      {\n        var _activeRooms = action.roomId;\n        return state.filter(function (occupantInfo) {\n          return occupantInfo.roomId <= _activeRooms;\n        });\n      }\n\n    case actionTypes.DESELECT_ROOM:\n      {\n        var _activeRooms2 = action.roomId;\n        return state.filter(function (occupantInfo) {\n          return occupantInfo.roomId < _activeRooms2;\n        });\n      }\n\n    case actionTypes.INIT_STATE:\n      {\n        return action.occupantSelectionInfo;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n} // Root Reducer\n\n\nvar reducer = combineReducers({\n  activeRooms: activeRooms,\n  occupantSelectionInfo: occupantSelectionInfo\n});\nexport default reducer; // selector\n\nexport var getActiveRooms = function getActiveRooms(state) {\n  return state.activeRooms;\n};\nexport var getOccupantSelectionInfo = function getOccupantSelectionInfo(state) {\n  return state.occupantSelectionInfo;\n};\nexport var roomInfo = createSelector(getActiveRooms, getOccupantSelectionInfo, function (activeRooms, occupantSelectionInfo) {\n  var defaultRoom = {\n    adult: 1,\n    children: 0\n  };\n  var currentRoomInfo = defaultRoomInfo.map(function (roomInfo) {\n    var roomId = roomInfo.roomId;\n    var occupantInfo = occupantSelectionInfo.find(function (occInfo) {\n      return occInfo.roomId === roomId;\n    });\n    return occupantInfo ? _objectSpread({}, roomInfo, {\n      occupantInfo: occupantInfo,\n      active: true,\n      hideOption: roomId === defaultSelectedRoomId ? true : false\n    }) : _objectSpread({}, roomInfo, {\n      occupantInfo: defaultRoom,\n      active: roomId + 1 <= activeRooms,\n      hideOption: roomId === 0 ? true : false\n    });\n  });\n  return currentRoomInfo;\n});","map":{"version":3,"sources":["/Users/tdkiran/Desktop/assessment-2/reducers/index.js"],"names":["combineReducers","actionTypes","createSelector","defaultRoomInfo","defaultSelectedRoomId","activeRooms","state","action","type","SELECT_ROOM","roomId","DESELECT_ROOM","INIT_STATE","occupantSelectionInfo","adult","children","SELECT_OCCUPANT","newOccupantInfo","filter","occupantInfo","concat","reducer","getActiveRooms","getOccupantSelectionInfo","roomInfo","defaultRoom","currentRoomInfo","map","find","occInfo","active","hideOption"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport { actionTypes } from './actions-creators';\nimport { createSelector } from 'reselect';\nimport { defaultRoomInfo, defaultSelectedRoomId } from '../app_config';\n\nfunction activeRooms(state = 1, action) {\n    switch (action.type) {\n        case actionTypes.SELECT_ROOM: {\n            return action.roomId + 1;\n        }\n        case actionTypes.DESELECT_ROOM: {\n            return action.roomId;\n        }\n        case actionTypes.INIT_STATE: {\n            return action.activeRooms;\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nfunction occupantSelectionInfo(state = [{ adult: 1, children: 0, roomId: 0 }], action) {\n    switch (action.type) {\n        case actionTypes.SELECT_OCCUPANT: {\n            const newOccupantInfo = state\n                .filter(occupantInfo => occupantInfo.roomId !== action.occupantInfo.roomId)\n                .concat([action.occupantInfo]);\n            return newOccupantInfo;\n        }\n\n        case actionTypes.SELECT_ROOM: {\n            const activeRooms = action.roomId;\n            return state.filter(occupantInfo => occupantInfo.roomId <= activeRooms);\n        }\n\n        case actionTypes.DESELECT_ROOM: {\n            const activeRooms = action.roomId;\n            return state.filter(occupantInfo => occupantInfo.roomId < activeRooms);\n        }\n\n        case actionTypes.INIT_STATE: {\n            return action.occupantSelectionInfo;\n        }\n\n        default: {\n            return state;\n        }\n    }\n}\n// Root Reducer\nconst reducer = combineReducers({\n    activeRooms,\n    occupantSelectionInfo\n});\nexport default reducer;\n\n// selector\nexport const getActiveRooms = state => state.activeRooms;\nexport const getOccupantSelectionInfo = state => state.occupantSelectionInfo;\n\nexport const roomInfo = createSelector(getActiveRooms, getOccupantSelectionInfo, (activeRooms, occupantSelectionInfo) => {\n    const defaultRoom = { adult: 1, children: 0 };\n    const currentRoomInfo = defaultRoomInfo.map(roomInfo => {\n        const roomId = roomInfo.roomId;\n        const occupantInfo = occupantSelectionInfo.find(occInfo => occInfo.roomId === roomId);\n        return occupantInfo ?\n            { ...roomInfo, occupantInfo, active: true, hideOption: (roomId === defaultSelectedRoomId ? true : false) } :\n            { ...roomInfo, occupantInfo: defaultRoom, active: (roomId + 1 <= activeRooms), hideOption: (roomId === 0 ? true : false) };\n    });\n    return currentRoomInfo;\n});"]},"metadata":{},"sourceType":"module"}