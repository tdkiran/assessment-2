{"ast":null,"code":"import _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nfunction generateRooms() {\n  const TOTAL_ROOMS = 4;\n  const rooms = Array(TOTAL_ROOMS).fill(1).map((v, i) => ({\n    roomId: i,\n    title: `Room ${i + v}`,\n    available: true,\n    selected: false,\n    adults: 0,\n    children: 0\n  })).reduce((byId, room) => {\n    byId[room.roomId] = room;\n    return byId;\n  }, {});\n  rooms[0].available = false;\n  return rooms;\n}\n\nconst AppInitialState = {\n  rooms: generateRooms(),\n  selectedRoomIds: [],\n  occupants: {}\n};\nexport const actionTypes = {\n  SELECT_ROOM: 'SELECT_ROOM',\n  DESELECT_ROOM: 'DESELECT_ROOM',\n  RESET_SELECTION: 'RESET_SELECTION',\n  SELECT_OCCUPANT: 'SELECT_OCCUPANT',\n  INIT_STATE: 'INIT_STATE'\n}; // REDUCERS\n\nexport const reducer = (state = AppInitialState, action) => {\n  switch (action.type) {\n    case actionTypes.SELECT_ROOM:\n      return _objectSpread({}, state, {\n        selectedRoomIds: [...state.selectedRoomIds, action.roomId]\n      });\n\n    case actionTypes.DESELECT_ROOM:\n      return _objectSpread({}, state, {\n        selectedRoomIds: state.selectedRoomIds.filter(roomId => roomId !== action.roomId)\n      });\n\n    case actionTypes.RESET_SELECTION:\n      return _objectSpread({}, state, {\n        selectedRoomIds: [],\n        occupants: {}\n      });\n\n    case actionTypes.SELECT_OCCUPANT:\n      return _objectSpread({}, state, {\n        occupants: _objectSpread({}, state.occupants, {\n          [action.roomId]: _objectSpread({}, state.occupants[action.roomId], {\n            [action.occupant_type]: action.qty\n          })\n        })\n      });\n\n    case actionTypes.INIT_STATE:\n      return action.state;\n\n    default:\n      return state;\n  }\n}; // ACTIONS\n\nexport const selectRoom = roomId => {\n  return {\n    type: actionTypes.SELECT_ROOM,\n    roomId\n  };\n};\nexport const deSelectRoom = roomId => {\n  return {\n    type: actionTypes.DESELECT_ROOM,\n    roomId\n  };\n};\nexport const resetSelection = () => {\n  return {\n    type: actionTypes.RESET_SELECTION\n  };\n};\nexport const selectOccupant = (roomId, occupant_type, qty) => {\n  return {\n    type: actionTypes.SELECT_OCCUPANT,\n    roomId,\n    occupant_type,\n    qty\n  };\n};\nexport const initState = state => {\n  return {\n    type: actionTypes.INIT_STATE,\n    state\n  };\n}; // selector\n\nexport const getSelectedRoomIds = state => state.selectedRoomIds;\nexport const getSelectedRooms = state => state.selectedRoomIds.map(roomId => state.rooms[roomId]);\nexport const getOccupants = state => state.occupants;\nexport const getRooms = state => _Object$values(state.rooms); // init store\n\nexport function initializeStore(initialState = AppInitialState) {\n  return createStore(reducer, initialState, composeWithDevTools(applyMiddleware()));\n}","map":{"version":3,"sources":["/Users/tdkiran/Desktop/with-redux/store.js"],"names":["createStore","applyMiddleware","composeWithDevTools","generateRooms","TOTAL_ROOMS","rooms","Array","fill","map","v","i","roomId","title","available","selected","adults","children","reduce","byId","room","AppInitialState","selectedRoomIds","occupants","actionTypes","SELECT_ROOM","DESELECT_ROOM","RESET_SELECTION","SELECT_OCCUPANT","INIT_STATE","reducer","state","action","type","filter","occupant_type","qty","selectRoom","deSelectRoom","resetSelection","selectOccupant","initState","getSelectedRoomIds","getSelectedRooms","getOccupants","getRooms","initializeStore","initialState"],"mappings":"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","sourcesContent":["import { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nfunction generateRooms() {\n  const TOTAL_ROOMS = 4;\n  const rooms = Array(TOTAL_ROOMS).fill(1)\n    .map((v, i) => ({\n      roomId: i,\n      title: `Room ${i + v}`,\n      available: true,\n      selected: false,\n      adults: 0,\n      children: 0\n    }))\n    .reduce((byId, room) => {\n      byId[room.roomId] = room;\n      return byId;\n    }, {});\n\n  rooms[0].available = false;\n\n  return rooms;\n}\n\nconst AppInitialState = {\n  rooms: generateRooms(),\n  selectedRoomIds: [],\n  occupants: {\n\n  }\n}\n\nexport const actionTypes = {\n  SELECT_ROOM: 'SELECT_ROOM',\n  DESELECT_ROOM: 'DESELECT_ROOM',\n  RESET_SELECTION: 'RESET_SELECTION',\n  SELECT_OCCUPANT: 'SELECT_OCCUPANT',\n  INIT_STATE: 'INIT_STATE'\n}\n\n// REDUCERS\nexport const reducer = (state = AppInitialState, action) => {\n  switch (action.type) {\n    case actionTypes.SELECT_ROOM:\n      return {\n        ...state,\n        selectedRoomIds: [\n          ...state.selectedRoomIds,\n          action.roomId\n        ]\n      };\n    case actionTypes.DESELECT_ROOM:\n      return {\n        ...state,\n        selectedRoomIds: state.selectedRoomIds.filter(roomId => roomId !== action.roomId)\n      };\n\n    case actionTypes.RESET_SELECTION:\n      return {\n        ...state,\n        selectedRoomIds: [],\n        occupants: {}\n      };\n\n    case actionTypes.SELECT_OCCUPANT:\n      return {\n        ...state,\n        occupants: {\n          ...state.occupants,\n          [action.roomId]: {\n            ...state.occupants[action.roomId],\n            [action.occupant_type]: action.qty\n          }\n        }\n      };\n    case actionTypes.INIT_STATE:\n      return action.state;\n    default:\n      return state\n  }\n}\n\n// ACTIONS\nexport const selectRoom = (roomId) => {\n  return { type: actionTypes.SELECT_ROOM, roomId };\n}\nexport const deSelectRoom = (roomId) => {\n  return { type: actionTypes.DESELECT_ROOM, roomId };\n}\n\nexport const resetSelection = () => {\n  return { type: actionTypes.RESET_SELECTION };\n}\nexport const selectOccupant = (roomId, occupant_type, qty) => {\n  return { type: actionTypes.SELECT_OCCUPANT, roomId, occupant_type, qty };\n}\n\nexport const initState = (state) => {\n  return { type: actionTypes.INIT_STATE, state };\n}\n\n\n// selector\nexport const getSelectedRoomIds = (state) => state.selectedRoomIds;\nexport const getSelectedRooms = (state) => state.selectedRoomIds.map(roomId => state.rooms[roomId]);\nexport const getOccupants = (state) => state.occupants;\nexport const getRooms = (state) => Object.values(state.rooms);\n\n\n\n\n// init store\nexport function initializeStore(initialState = AppInitialState) {\n  return createStore(\n    reducer,\n    initialState,\n    composeWithDevTools(applyMiddleware())\n  )\n}"]},"metadata":{},"sourceType":"module"}