{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/tdkiran/Desktop/assessment-2/components/booking/booking.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { Room } from './room';\nimport styled from 'styled-components';\nconst BookingContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: start\n`;\nconst RoomsContainer = styled.div`\n    display: flex;\n`;\nexport class Booking extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"saveBooking\", () => {\n      const {\n        appState\n      } = this.props;\n      localStorage.setItem('bookings', _JSON$stringify(appState));\n    });\n  }\n\n  componentDidMount() {\n    const {\n      initState\n    } = this.props;\n    const localState = JSON.parse(localStorage.getItem('bookings')) || null;\n\n    if (localState) {\n      initState(localState);\n    }\n  }\n\n  onSelectionChange(room, selected) {\n    const {\n      rooms: _rooms,\n      selectRoom,\n      deSelectRoom,\n      resetSelection\n    } = this.props;\n\n    const rooms = _rooms.filter(r => r.available);\n\n    const index = rooms.indexOf(room);\n    rooms.slice(0, index + 1).forEach(({\n      roomId\n    }) => selectRoom(roomId));\n    rooms.slice(index + 1).forEach(({\n      roomId\n    }) => deSelectRoom(roomId));\n\n    if (!selected) {\n      deSelectRoom(room.roomId);\n    }\n  }\n\n  render() {\n    const {\n      bookingInfo\n    } = this.props;\n    return __jsx(React.Fragment, null, \" \", bookingInfo.map(room => __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \" Kiran \"))); // return (<BookingContainer>\n    //     <RoomsContainer>\n    //         {\n    //             rooms.map((room) => {\n    //                 return <Room {...room}\n    //                     key={room.roomId}\n    //                     selectOccupant={selectOccupant}\n    //                     selected={selectedRoomIds.includes(room.roomId)}\n    //                     onSelectionChange={this.onSelectionChange.bind(this, room)} />\n    //             })\n    //         }\n    //     </RoomsContainer>\n    //     <button type=\"submit\" data-testid=\"submit\" onClick={this.saveBooking}>Submit</button>\n    // </BookingContainer>);\n  }\n\n}","map":{"version":3,"sources":["/Users/tdkiran/Desktop/assessment-2/components/booking/booking.js"],"names":["React","Component","Room","styled","BookingContainer","div","RoomsContainer","Booking","constructor","props","appState","localStorage","setItem","componentDidMount","initState","localState","JSON","parse","getItem","onSelectionChange","room","selected","rooms","_rooms","selectRoom","deSelectRoom","resetSelection","filter","r","available","index","indexOf","slice","forEach","roomId","render","bookingInfo","map"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,MAAMC,gBAAgB,GAAGD,MAAM,CAACE,GAAI;;;;CAApC;AAMA,MAAMC,cAAc,GAAGH,MAAM,CAACE,GAAI;;CAAlC;AAIA,OAAO,MAAME,OAAN,SAAsBN,SAAtB,CAAgC;AACnCO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,yCAaL,MAAM;AAChB,YAAM;AAAEC,QAAAA;AAAF,UAAe,KAAKD,KAA1B;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,gBAAeF,QAAf,CAAjC;AACH,KAhBkB;AAElB;;AAEDG,EAAAA,iBAAiB,GAAG;AAChB,UAAM;AAAEC,MAAAA;AAAF,QAAgB,KAAKL,KAA3B;AACA,UAAMM,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,UAArB,CAAX,KAAgD,IAAnE;;AAEA,QAAIH,UAAJ,EAAgB;AACZD,MAAAA,SAAS,CAACC,UAAD,CAAT;AACH;AACJ;;AAODI,EAAAA,iBAAiB,CAACC,IAAD,EAAOC,QAAP,EAAiB;AAC9B,UAAM;AAAEC,MAAAA,KAAK,EAAEC,MAAT;AAAiBC,MAAAA,UAAjB;AAA6BC,MAAAA,YAA7B;AAA2CC,MAAAA;AAA3C,QAA8D,KAAKjB,KAAzE;;AACA,UAAMa,KAAK,GAAGC,MAAM,CAACI,MAAP,CAAcC,CAAC,IAAIA,CAAC,CAACC,SAArB,CAAd;;AACA,UAAMC,KAAK,GAAGR,KAAK,CAACS,OAAN,CAAcX,IAAd,CAAd;AAEAE,IAAAA,KAAK,CAACU,KAAN,CAAY,CAAZ,EAAeF,KAAK,GAAG,CAAvB,EAA0BG,OAA1B,CAAkC,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAgBV,UAAU,CAACU,MAAD,CAA5D;AAEAZ,IAAAA,KAAK,CAACU,KAAN,CAAYF,KAAK,GAAG,CAApB,EAAuBG,OAAvB,CAA+B,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAgBT,YAAY,CAACS,MAAD,CAA3D;;AAEA,QAAI,CAACb,QAAL,EAAe;AACXI,MAAAA,YAAY,CAACL,IAAI,CAACc,MAAN,CAAZ;AACH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEC,MAAAA;AAAF,QAAkB,KAAK3B,KAA7B;AACA,WAAO,iCAAI2B,WAAW,CAACC,GAAZ,CAAgBjB,IAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAxB,CAAJ,CAAP,CAFK,CAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAlDkC","sourcesContent":["import React, { Component } from 'react';\nimport { Room } from './room';\nimport styled from 'styled-components';\n\nconst BookingContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: start\n`;\n\nconst RoomsContainer = styled.div`\n    display: flex;\n`;\n\nexport class Booking extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        const { initState } = this.props;\n        const localState = JSON.parse(localStorage.getItem('bookings')) || null;\n\n        if (localState) {\n            initState(localState);\n        }\n    }\n\n    saveBooking = () => {\n        const { appState } = this.props;\n        localStorage.setItem('bookings', JSON.stringify(appState));\n    }\n\n    onSelectionChange(room, selected) {\n        const { rooms: _rooms, selectRoom, deSelectRoom, resetSelection } = this.props;\n        const rooms = _rooms.filter(r => r.available);\n        const index = rooms.indexOf(room);\n\n        rooms.slice(0, index + 1).forEach(({ roomId }) => selectRoom(roomId));\n\n        rooms.slice(index + 1).forEach(({ roomId }) => deSelectRoom(roomId));\n\n        if (!selected) {\n            deSelectRoom(room.roomId);\n        }\n    }\n\n    render() {\n        const { bookingInfo } = this.props;\n        return <> {bookingInfo.map(room => <div> Kiran </div>)}</>\n        // return (<BookingContainer>\n        //     <RoomsContainer>\n        //         {\n        //             rooms.map((room) => {\n        //                 return <Room {...room}\n        //                     key={room.roomId}\n        //                     selectOccupant={selectOccupant}\n        //                     selected={selectedRoomIds.includes(room.roomId)}\n        //                     onSelectionChange={this.onSelectionChange.bind(this, room)} />\n        //             })\n        //         }\n        //     </RoomsContainer>\n        //     <button type=\"submit\" data-testid=\"submit\" onClick={this.saveBooking}>Submit</button>\n        // </BookingContainer>);\n    }\n}"]},"metadata":{},"sourceType":"module"}