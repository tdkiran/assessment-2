{"version":3,"file":"static/webpack/static/development/pages/index.js.512201ce9948ab01cf7a.hot-update.js","sources":["webpack:///./components/booking/booking.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { AppCard } from '../common/card';\nimport { Room } from './room';\nimport styled from 'styled-components';\n\nconst BookingContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: start\n`;\n\nconst RoomsContainer = styled.div`\n    display: flex;\n`;\n\nexport class Booking extends Component {\n    constructor() {\n        super();\n    }\n\n    componentDidMount() {\n        const { initState } = this.props;\n        const localState = JSON.parse(localStorage.getItem('bookings')) || null;\n\n        if (localState) {\n            initState(localState);\n        }\n    }\n\n    saveBooking = () => {\n        const { appState } = this.props;\n        localStorage.setItem('bookings', JSON.stringify(appState));\n    }\n\n    onSelectionChange(room, selected) {\n        const { rooms: _rooms, selectRoom, deSelectRoom, resetSelection } = this.props;\n        const rooms = _rooms.filter(r => r.available);\n        const index = rooms.indexOf(room);\n\n        rooms.slice(0, index + 1).forEach(({ roomId }) => selectRoom(roomId));\n\n        rooms.slice(index + 1).forEach(({ roomId }) => deSelectRoom(roomId));\n\n        if (!selected) {\n            deSelectRoom(room.roomId);\n        }\n    }\n\n    render() {\n        const { rooms, selectedRoomIds = [], selectOccupant } = this.props;\n\n        return (<BookingContainer>\n            <RoomsContainer>\n                {\n                    rooms.map((room) => {\n                        return <Room {...room}\n                            key={room.roomId}\n                            selectOccupant={selectOccupant}\n                            selected={selectedRoomIds.includes(room.roomId)}\n                            onSelectionChange={this.onSelectionChange.bind(this, room)} />\n                    })\n                }\n            </RoomsContainer>\n            <button type=\"submit\" onClick={this.saveBooking}>Submit</button>\n        </BookingContainer>);\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAMA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAaA;AAEA;AACA;AACA;AAjBA;AAEA;AACA;AAJA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AAmBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AA/BA;AAAA;AAAA;AAiCA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAlDA;AACA;AADA;AAAA;;;;A","sourceRoot":""}